[
  {
    "objectID": "Homework2_05-26-22.html",
    "href": "Homework2_05-26-22.html",
    "title": "Learning to Program in Base R",
    "section": "",
    "text": "Task 1: Basic Vector Practice\n\nCreating names for Patients\n\n\npatient &lt;- paste(\"Subject\", 1:20, sep = \"_\")\n\n\nCreating a new object using pre-treatment values\n\n\nt &lt;- c(130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135)\nt\n\n [1] 130 128 116 124 133 134 118 126 114 127 141 138 128 140 137 131 120 128 139\n[20] 135\n\n\n\nAdding patient names to pre-treatment values\n\n\nnames(t)[1:20] &lt;- patient\npre_bp &lt;- t  #created a new object with the added patient names\npre_bp\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       130        128        116        124        133        134        118 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n       126        114        127        141        138        128        140 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n       137        131        120        128        139        135 \n\n\n\nCreating a new object with post-treatment value\n\n\np &lt;- c(114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113)\np\n\n [1] 114  98 113  99 107 116 113 111 119 117 101 119 130 122 106 106 124 102 117\n[20] 113\n\n\n\nAdding patient names to post-treatment values\n\n\nnames(p)[1:20] &lt;- patient\npost_bp &lt;- p  #created a new object with the added patient names\npost_bp\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       114         98        113         99        107        116        113 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n       111        119        117        101        119        130        122 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n       106        106        124        102        117        113 \n\n\n\nCalculating change in blood pressure and defining it as a new item\n\n\ndiff_bp &lt;- post_bp-pre_bp  #created a new object with the difference in blood pressure\ndiff_bp\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       -16        -30         -3        -25        -26        -18         -5 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n       -15          5        -10        -40        -19          2        -18 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n       -31        -25          4        -26        -22        -22 \n\n\n\nCalculating decrease in blood pressure for all patients\n\n\nmean(diff_bp)\n\n[1] -17\n\n\n\nIndicating which patient had an increase in blood pressure\n\n\nwhich(diff_bp &gt; 0, arr.ind = TRUE)\n\n Subject_9 Subject_13 Subject_17 \n         9         13         17 \n\n\n\nIsolating patient data with increased blood pressure\n\n\npos_diff &lt;- diff_bp[diff_bp &gt; 0] #created a new object with only the data of the patients that had an increase in blood pressure\npos_diff\n\n Subject_9 Subject_13 Subject_17 \n         5          2          4 \n\n\n\nCalculating average increase in blood pressure\n\n\nmean(pos_diff)\n\n[1] 3.666667\n\n\n\n\nTask 2: Basic Data Frame Practice\n\nbp_df &lt;- data.frame(\"Patient\" = patient, \"Pretreatment\" = pre_bp, \"Posttreatement\" = post_bp, \"Difference\" = diff_bp)\nrownames(bp_df) &lt;- NULL  #Hiding row names due to repetition\nbp_df\n\n      Patient Pretreatment Posttreatement Difference\n1   Subject_1          130            114        -16\n2   Subject_2          128             98        -30\n3   Subject_3          116            113         -3\n4   Subject_4          124             99        -25\n5   Subject_5          133            107        -26\n6   Subject_6          134            116        -18\n7   Subject_7          118            113         -5\n8   Subject_8          126            111        -15\n9   Subject_9          114            119          5\n10 Subject_10          127            117        -10\n11 Subject_11          141            101        -40\n12 Subject_12          138            119        -19\n13 Subject_13          128            130          2\n14 Subject_14          140            122        -18\n15 Subject_15          137            106        -31\n16 Subject_16          131            106        -25\n17 Subject_17          120            124          4\n18 Subject_18          128            102        -26\n19 Subject_19          139            117        -22\n20 Subject_20          135            113        -22\n\n\n\nShowing rows with only negative difference\n\n\nbp_sub &lt;- subset(bp_df, diff_bp &lt; 0)\nbp_sub\n\n      Patient Pretreatment Posttreatement Difference\n1   Subject_1          130            114        -16\n2   Subject_2          128             98        -30\n3   Subject_3          116            113         -3\n4   Subject_4          124             99        -25\n5   Subject_5          133            107        -26\n6   Subject_6          134            116        -18\n7   Subject_7          118            113         -5\n8   Subject_8          126            111        -15\n10 Subject_10          127            117        -10\n11 Subject_11          141            101        -40\n12 Subject_12          138            119        -19\n14 Subject_14          140            122        -18\n15 Subject_15          137            106        -31\n16 Subject_16          131            106        -25\n18 Subject_18          128            102        -26\n19 Subject_19          139            117        -22\n20 Subject_20          135            113        -22\n\n\n\nNew column with True statements\n\n\nbp_df$BPLower &lt;- ifelse(bp_df$Posttreatement &lt; 120, TRUE, \" \")  #adding a new column with a condition on Posttreatment\nbp_df\n\n      Patient Pretreatment Posttreatement Difference BPLower\n1   Subject_1          130            114        -16    TRUE\n2   Subject_2          128             98        -30    TRUE\n3   Subject_3          116            113         -3    TRUE\n4   Subject_4          124             99        -25    TRUE\n5   Subject_5          133            107        -26    TRUE\n6   Subject_6          134            116        -18    TRUE\n7   Subject_7          118            113         -5    TRUE\n8   Subject_8          126            111        -15    TRUE\n9   Subject_9          114            119          5    TRUE\n10 Subject_10          127            117        -10    TRUE\n11 Subject_11          141            101        -40    TRUE\n12 Subject_12          138            119        -19    TRUE\n13 Subject_13          128            130          2        \n14 Subject_14          140            122        -18        \n15 Subject_15          137            106        -31    TRUE\n16 Subject_16          131            106        -25    TRUE\n17 Subject_17          120            124          4        \n18 Subject_18          128            102        -26    TRUE\n19 Subject_19          139            117        -22    TRUE\n20 Subject_20          135            113        -22    TRUE\n\n\n\nPrint a final table\n\n\n\n\n\n\nPatient\nPretreatment\nPosttreatement\nDifference\nBPLower\n\n\n\n\nSubject_1\n130\n114\n-16\nTRUE\n\n\nSubject_2\n128\n98\n-30\nTRUE\n\n\nSubject_3\n116\n113\n-3\nTRUE\n\n\nSubject_4\n124\n99\n-25\nTRUE\n\n\nSubject_5\n133\n107\n-26\nTRUE\n\n\nSubject_6\n134\n116\n-18\nTRUE\n\n\nSubject_7\n118\n113\n-5\nTRUE\n\n\nSubject_8\n126\n111\n-15\nTRUE\n\n\nSubject_9\n114\n119\n5\nTRUE\n\n\nSubject_10\n127\n117\n-10\nTRUE\n\n\nSubject_11\n141\n101\n-40\nTRUE\n\n\nSubject_12\n138\n119\n-19\nTRUE\n\n\nSubject_13\n128\n130\n2\n\n\n\nSubject_14\n140\n122\n-18\n\n\n\nSubject_15\n137\n106\n-31\nTRUE\n\n\nSubject_16\n131\n106\n-25\nTRUE\n\n\nSubject_17\n120\n124\n4\n\n\n\nSubject_18\n128\n102\n-26\nTRUE\n\n\nSubject_19\n139\n117\n-22\nTRUE\n\n\nSubject_20\n135\n113\n-22\nTRUE\n\n\n\n\n\n\n\nTask 3: List Practice\n\nCreating a new object using placebo pre-treatment values\n\n\nb &lt;- c( 138, 135, 147, 117, 152, 134, 114, 121, 131, 130)\nb\n\n [1] 138 135 147 117 152 134 114 121 131 130\n\n\n\nCreating a new object using placebo post-treatment values\n\n\na &lt;- c( 105, 136, 123, 130, 134, 143, 135, 139, 120, 124)\na\n\n [1] 105 136 123 130 134 143 135 139 120 124\n\n\n\nCreating names for patients treated with placebo\n\n\np_patient &lt;- paste(\"Subject\", 1:10, sep = \"_\")\np_patient\n\n [1] \"Subject_1\"  \"Subject_2\"  \"Subject_3\"  \"Subject_4\"  \"Subject_5\" \n [6] \"Subject_6\"  \"Subject_7\"  \"Subject_8\"  \"Subject_9\"  \"Subject_10\"\n\n\n\nRepeating steps from Task 2 to create a new data frame\n\n\n#apply patient names\nnames(b)[1:10] &lt;- p_patient\nnames(a)[1:10] &lt;- p_patient\n#rename the objects\np_pre &lt;- b\np_post &lt;- a\n#create a new object with the difference\np_diff &lt;- (p_post-p_pre)\n#create a data freame with the newly created objects and change names \np_df &lt;- data.frame(\"Patient\" = p_patient, \"PrePlacebo\" = p_pre, \"PostPlacebo\" = p_post, \"Difference\" = p_diff)\n#hiding row names due to repetition\nrownames(p_df) &lt;- NULL\n#create an object with a subset\np_sub &lt;- subset(p_df, p_diff &lt; 0)\np_sub\n\n      Patient PrePlacebo PostPlacebo Difference\n1   Subject_1        138         105        -33\n3   Subject_3        147         123        -24\n5   Subject_5        152         134        -18\n9   Subject_9        131         120        -11\n10 Subject_10        130         124         -6\n\n#adding a new column with a condition on PostPlacebo\np_df$PLower &lt;- ifelse(p_df$PostPlacebo &lt; 120, TRUE, \" \")\np_df\n\n      Patient PrePlacebo PostPlacebo Difference PLower\n1   Subject_1        138         105        -33   TRUE\n2   Subject_2        135         136          1       \n3   Subject_3        147         123        -24       \n4   Subject_4        117         130         13       \n5   Subject_5        152         134        -18       \n6   Subject_6        134         143          9       \n7   Subject_7        114         135         21       \n8   Subject_8        121         139         18       \n9   Subject_9        131         120        -11       \n10 Subject_10        130         124         -6       \n\n\n\nCreating a list with the treatment data frame\n\n\nbloodpressure &lt;- list(treatment = bp_df, placebo = p_df)\nbloodpressure\n\n$treatment\n      Patient Pretreatment Posttreatement Difference BPLower\n1   Subject_1          130            114        -16    TRUE\n2   Subject_2          128             98        -30    TRUE\n3   Subject_3          116            113         -3    TRUE\n4   Subject_4          124             99        -25    TRUE\n5   Subject_5          133            107        -26    TRUE\n6   Subject_6          134            116        -18    TRUE\n7   Subject_7          118            113         -5    TRUE\n8   Subject_8          126            111        -15    TRUE\n9   Subject_9          114            119          5    TRUE\n10 Subject_10          127            117        -10    TRUE\n11 Subject_11          141            101        -40    TRUE\n12 Subject_12          138            119        -19    TRUE\n13 Subject_13          128            130          2        \n14 Subject_14          140            122        -18        \n15 Subject_15          137            106        -31    TRUE\n16 Subject_16          131            106        -25    TRUE\n17 Subject_17          120            124          4        \n18 Subject_18          128            102        -26    TRUE\n19 Subject_19          139            117        -22    TRUE\n20 Subject_20          135            113        -22    TRUE\n\n$placebo\n      Patient PrePlacebo PostPlacebo Difference PLower\n1   Subject_1        138         105        -33   TRUE\n2   Subject_2        135         136          1       \n3   Subject_3        147         123        -24       \n4   Subject_4        117         130         13       \n5   Subject_5        152         134        -18       \n6   Subject_6        134         143          9       \n7   Subject_7        114         135         21       \n8   Subject_8        121         139         18       \n9   Subject_9        131         120        -11       \n10 Subject_10        130         124         -6       \n\n\n\nPracticing accessing a list\n\n\n#Structure of the overall list \nstr(bloodpressure)\n\nList of 2\n $ treatment:'data.frame':  20 obs. of  5 variables:\n  ..$ Patient       : chr [1:20] \"Subject_1\" \"Subject_2\" \"Subject_3\" \"Subject_4\" ...\n  ..$ Pretreatment  : num [1:20] 130 128 116 124 133 134 118 126 114 127 ...\n  ..$ Posttreatement: num [1:20] 114 98 113 99 107 116 113 111 119 117 ...\n  ..$ Difference    : num [1:20] -16 -30 -3 -25 -26 -18 -5 -15 5 -10 ...\n  ..$ BPLower       : chr [1:20] \"TRUE\" \"TRUE\" \"TRUE\" \"TRUE\" ...\n $ placebo  :'data.frame':  10 obs. of  5 variables:\n  ..$ Patient    : chr [1:10] \"Subject_1\" \"Subject_2\" \"Subject_3\" \"Subject_4\" ...\n  ..$ PrePlacebo : num [1:10] 138 135 147 117 152 134 114 121 131 130\n  ..$ PostPlacebo: num [1:10] 105 136 123 130 134 143 135 139 120 124\n  ..$ Difference : num [1:10] -33 1 -24 13 -18 9 21 18 -11 -6\n  ..$ PLower     : chr [1:10] \"TRUE\" \" \" \" \" \" \" ...\n\n#Return with only the Posttreatment column of the treatment element of the list\nbloodpressure$treatment[3]\n\n   Posttreatement\n1             114\n2              98\n3             113\n4              99\n5             107\n6             116\n7             113\n8             111\n9             119\n10            117\n11            101\n12            119\n13            130\n14            122\n15            106\n16            106\n17            124\n18            102\n19            117\n20            113\n\n#Return with the second and third column of the first element of the list\nbloodpressure[[1]][2:3]\n\n   Pretreatment Posttreatement\n1           130            114\n2           128             98\n3           116            113\n4           124             99\n5           133            107\n6           134            116\n7           118            113\n8           126            111\n9           114            119\n10          127            117\n11          141            101\n12          138            119\n13          128            130\n14          140            122\n15          137            106\n16          131            106\n17          120            124\n18          128            102\n19          139            117\n20          135            113\n\n\n\nAccessing a specific part of a list\n\n\nbloodpressure[[2]][2]\n\n   PrePlacebo\n1         138\n2         135\n3         147\n4         117\n5         152\n6         134\n7         114\n8         121\n9         131\n10        130\n\n\n\n\nTask 4: Control flow Practice\n\nCreating new columns\n\n\nbp_df$Status &lt;- character(20)\np_df$P.status &lt;- character(10)\n\n\nCreating a loop over bloodpressure list, treatment data frame and Posttreatment column\n\n\nfor (i in seq_along(bloodpressure$treatment$Posttreatement)) { #This took me three days and a computer engineer brother to figure out...\n  if(bloodpressure$treatment$Posttreatement[i] &lt;= 120) {\n    bloodpressure$treatment$Status[i] &lt;- \"Optimal\"\n  } else if (bloodpressure$treatment$Posttreatement[i] &gt; 120 & bloodpressure$treatment$Posttreatement[i] &lt;=130){\n  bloodpressure$treatment$Status[i] &lt;- \"Borderline\"\n  } else if (bloodpressure$treatment$Posttreatement[i] &gt;130){\n    bloodpressure$treatment$Status[i] &lt;- \"High\"\n  }\n}\nbloodpressure$treatment\n\n      Patient Pretreatment Posttreatement Difference BPLower     Status\n1   Subject_1          130            114        -16    TRUE    Optimal\n2   Subject_2          128             98        -30    TRUE    Optimal\n3   Subject_3          116            113         -3    TRUE    Optimal\n4   Subject_4          124             99        -25    TRUE    Optimal\n5   Subject_5          133            107        -26    TRUE    Optimal\n6   Subject_6          134            116        -18    TRUE    Optimal\n7   Subject_7          118            113         -5    TRUE    Optimal\n8   Subject_8          126            111        -15    TRUE    Optimal\n9   Subject_9          114            119          5    TRUE    Optimal\n10 Subject_10          127            117        -10    TRUE    Optimal\n11 Subject_11          141            101        -40    TRUE    Optimal\n12 Subject_12          138            119        -19    TRUE    Optimal\n13 Subject_13          128            130          2         Borderline\n14 Subject_14          140            122        -18         Borderline\n15 Subject_15          137            106        -31    TRUE    Optimal\n16 Subject_16          131            106        -25    TRUE    Optimal\n17 Subject_17          120            124          4         Borderline\n18 Subject_18          128            102        -26    TRUE    Optimal\n19 Subject_19          139            117        -22    TRUE    Optimal\n20 Subject_20          135            113        -22    TRUE    Optimal\n\n\n\nRepeating the loop over bloodpressure list, placebo data frame and PostPlacebo column\n\n\nfor (i in 1:length(bloodpressure$placebo$PostPlacebo)) {\n  if(bloodpressure$placebo$PostPlacebo[i] &lt;= 120) {\n    bloodpressure$placebo$P.Status[i] &lt;- \"Optimal\"\n  } else if (bloodpressure$placebo$PostPlacebo[i] &gt; 120 & bloodpressure$placebo$PostPlacebo[i] &lt;=130){\n  bloodpressure$placebo$P.Status[i] &lt;- \"Borderline\"\n  } else if (bloodpressure$placebo$PostPlacebo[i] &gt;130){\n    bloodpressure$placebo$P.Status[i] &lt;- \"High\"\n  }\n}\nbloodpressure$placebo\n\n      Patient PrePlacebo PostPlacebo Difference PLower   P.Status\n1   Subject_1        138         105        -33   TRUE    Optimal\n2   Subject_2        135         136          1              High\n3   Subject_3        147         123        -24        Borderline\n4   Subject_4        117         130         13        Borderline\n5   Subject_5        152         134        -18              High\n6   Subject_6        134         143          9              High\n7   Subject_7        114         135         21              High\n8   Subject_8        121         139         18              High\n9   Subject_9        131         120        -11           Optimal\n10 Subject_10        130         124         -6        Borderline\n\n\n\n\nTask 5: Function Writing\n\nbp_fun &lt;- function(bloodpressure, stat = \"mean\") {\n#create an empty list to store results\n  mean_results &lt;- list()\n#repeat over each data frame in the list\n  for (i in 1:length(bloodpressure)) {\n  bp_data &lt;- bloodpressure[[i]]\n#keep only numeric columns\n  num_col &lt;- sapply(bp_data, is.numeric)\n  num_data &lt;- bp_data[, num_col]\n#create a vector with the default value, failed multiple times because of this\n  default_value &lt;- NA\n#compute the summary for numeric columns\n  mean_result &lt;- setNames(rep(default_value, ncol(num_data)), names(num_data))\n  mean_result[] &lt;- colMeans(num_data, na.rm = TRUE)\n#put the result in the empty list\n  mean_results[[i]] &lt;- mean_result\n  }\n  return(mean_results)\n}\n\n\nTesting the function\n\n\n#I didn't really understand this part\nbp_fun(bloodpressure)\n\n[[1]]\n  Pretreatment Posttreatement     Difference \n        129.35         112.35         -17.00 \n\n[[2]]\n PrePlacebo PostPlacebo  Difference \n      131.9       128.9        -3.0 \n\nbp_fun(bloodpressure, \"var\")\n\n[[1]]\n  Pretreatment Posttreatement     Difference \n        129.35         112.35         -17.00 \n\n[[2]]\n PrePlacebo PostPlacebo  Difference \n      131.9       128.9        -3.0 \n\nbp_fun(bloodpressure, \"sd\")\n\n[[1]]\n  Pretreatment Posttreatement     Difference \n        129.35         112.35         -17.00 \n\n[[2]]\n PrePlacebo PostPlacebo  Difference \n      131.9       128.9        -3.0 \n\nbp_fun(bloodpressure, \"min\")\n\n[[1]]\n  Pretreatment Posttreatement     Difference \n        129.35         112.35         -17.00 \n\n[[2]]\n PrePlacebo PostPlacebo  Difference \n      131.9       128.9        -3.0 \n\nbp_fun(bloodpressure, \"max\")\n\n[[1]]\n  Pretreatment Posttreatement     Difference \n        129.35         112.35         -17.00 \n\n[[2]]\n PrePlacebo PostPlacebo  Difference \n      131.9       128.9        -3.0"
  }
]